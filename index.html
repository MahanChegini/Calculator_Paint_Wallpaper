<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù…Ø­Ø§Ø³Ø¨Ù‡â€ŒÚ¯Ø± ØªØ®ØµØµÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø¯Ø§Ø®Ù„ÛŒ</title>
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet" />
<style>
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; 
    font-family: 'Vazir', Tahoma, sans-serif;
    background: #f7f9fc;
    color: #333;
    min-height: 100vh;
    padding: 20px;
    transition: background-color 0.4s,color 0.4s;
    direction: rtl;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  body.dark {
    background: #121212;
    color: #eee;
  }
  .container {
    max-width: 480px;
    width: 100%;
    background: rgba(255 255 255 / 0.85);
    padding: 30px 30px 40px;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    backdrop-filter: blur(12px);
    transition: background-color 0.4s,color 0.4s;
  }
  body.dark .container {
    background: rgba(18 18 18 / 0.8);
    box-shadow: 0 8px 24px rgba(255 255 255 / 0.12);
  }
  header {
    text-align: center;
    margin-bottom: 25px;
    user-select: none;
  }
  header h1 {
    font-weight: 700;
    font-size: 1.8rem;
    letter-spacing: 1px;
  }
  .toggle-theme {
    position: fixed;
    top: 20px;
    left: 20px;
    background: transparent;
    border: none;
    font-size: 1.9rem;
    cursor: pointer;
    color: #333;
    transition: color 0.4s;
    user-select: none;
    z-index: 1000;
  }
  body.dark .toggle-theme {
    color: #eee;
  }
  form {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  label {
    font-weight: 600;
    margin-bottom: 6px;
    display: block;
  }
  select, input[type="number"] {
    width: 100%;
    padding: 10px 12px;
    font-size: 1rem;
    border: 2px solid #ccc;
    border-radius: 10px;
    background: #fafafa;
    transition: border-color 0.3s;
    font-family: 'Vazir', Tahoma, sans-serif;
    color: #333;
    outline-offset: 2px;
  }
  select:focus, input[type="number"]:focus {
    border-color: #357edd;
    background: #fff;
  }
  body.dark select, 
  body.dark input[type="number"] {
    background: #222;
    border-color: #555;
    color: #eee;
  }
  body.dark select:focus, 
  body.dark input[type="number"]:focus {
    border-color: #5a9bf6;
    background: #333;
  }
  .helper-text {
    font-size: 0.85rem;
    color: #666;
    margin-top: -10px;
    margin-bottom: 8px;
    user-select: none;
  }
  body.dark .helper-text {
    color: #bbb;
  }
  button[type="submit"] {
    padding: 14px;
    font-size: 1.15rem;
    font-weight: 700;
    border-radius: 15px;
    border: none;
    background: #357edd;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s;
    user-select: none;
    box-shadow: 0 4px 12px rgb(53 126 221 / 0.5);
  }
  button[type="submit"]:hover {
    background: #2b62c7;
  }
  body.dark button[type="submit"] {
    background: #5a9bf6;
    box-shadow: 0 4px 12px rgb(90 155 246 / 0.7);
  }
  body.dark button[type="submit"]:hover {
    background: #4d86db;
  }
  .result-box {
    margin-top: 30px;
    background: rgba(53, 126, 221, 0.1);
    border-radius: 15px;
    padding: 20px 25px;
    font-size: 1rem;
    color: #1a2a52;
    user-select: none;
    box-shadow: 0 0 12px rgba(53,126,221,0.15);
    transition: background-color 0.4s, color 0.4s;
    white-space: pre-wrap;
  }
  body.dark .result-box {
    background: rgba(90, 155, 246, 0.2);
    color: #dbe9ff;
    box-shadow: 0 0 14px rgba(90,155,246,0.6);
  }
  @media (max-width: 520px) {
    .container {
      max-width: 95vw;
      padding: 20px;
    }
    header h1 {
      font-size: 1.4rem;
    }
  }
</style>
</head>
<body>
<button class="toggle-theme" id="toggleTheme" aria-label="ØªØºÛŒÛŒØ± ØªÙ… ØªØ§Ø±ÛŒÚ© Ùˆ Ø±ÙˆØ´Ù†">ğŸŒ™</button>
<div class="container" role="main">
  <header>
    <h1>Ù…Ø­Ø§Ø³Ø¨Ù‡â€ŒÚ¯Ø± ØªØ®ØµØµÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø¯Ø§Ø®Ù„ÛŒ</h1>
  </header>

  <form id="calcForm" novalidate>
    <label for="space">Ù†Ø§Ù… ÙØ¶Ø§</label>
    <select id="space" name="space" required aria-describedby="spaceHelp">
      <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
      <option value="living">Ù¾Ø°ÛŒØ±Ø§ÛŒÛŒ</option>
      <option value="kids">Ø§ØªØ§Ù‚ Ú©ÙˆØ¯Ú©</option>
      <option value="kitchen">Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡</option>
      <option value="bathroom">Ø­Ù…Ø§Ù…</option>
      <option value="office">ÙØ¶Ø§ÛŒ Ú©Ø§Ø±</option>
    </select>
    <small id="spaceHelp" class="helper-text">ÙØ¶Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</small>

    <label for="length">Ø·ÙˆÙ„ (Ù…ØªØ±)</label>
    <input type="number" id="length" name="length" min="0.5" step="0.1" required placeholder="Ù…Ø«Ù„Ø§Ù‹ Û´.Ûµ" aria-describedby="lengthHelp" />
    <small id="lengthHelp" class="helper-text">Ø·ÙˆÙ„ Ø§ØªØ§Ù‚ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…ØªØ±)</small>

    <label for="width">Ø¹Ø±Ø¶ (Ù…ØªØ±)</label>
    <input type="number" id="width" name="width" min="0.5" step="0.1" required placeholder="Ù…Ø«Ù„Ø§Ù‹ Û³.Û²" aria-describedby="widthHelp" />
    <small id="widthHelp" class="helper-text">Ø¹Ø±Ø¶ Ø§ØªØ§Ù‚ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…ØªØ±)</small>

    <label for="height">Ø§Ø±ØªÙØ§Ø¹ (Ù…ØªØ±)</label>
    <input type="number" id="height" name="height" min="1" step="0.1" required placeholder="Ù…Ø«Ù„Ø§Ù‹ Û².Û¸" aria-describedby="heightHelp" />
    <small id="heightHelp" class="helper-text">Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…ØªØ±)</small>

    <label for="walls">ØªØ¹Ø¯Ø§Ø¯ Ø¯ÛŒÙˆØ§Ø±Ù‡Ø§</label>
    <input type="number" id="walls" name="walls" min="1" max="6" step="1" required placeholder="Ù…Ø«Ù„Ø§Ù‹ Û´" aria-describedby="wallsHelp" />
    <small id="wallsHelp" class="helper-text">ØªØ¹Ø¯Ø§Ø¯ Ø¯ÛŒÙˆØ§Ø±Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø±Ù†Ú¯ ÛŒØ§ Ú©Ø§ØºØ° Ù…ÛŒâ€ŒØ®ÙˆØ±Ù†Ø¯</small>

    <label for="windows">Ù…ØªØ±Ø§Ú˜ Ù¾Ù†Ø¬Ø±Ù‡â€ŒÙ‡Ø§ (Ù…ØªØ± Ù…Ø±Ø¨Ø¹)</label>
    <input type="number" id="windows" name="windows" min="0" step="0.1" value="0" required placeholder="Ù…Ø«Ù„Ø§Ù‹ Û².Ûµ" aria-describedby="windowsHelp" />
    <small id="windowsHelp" class="helper-text">Ù…ØªØ±Ø§Ú˜ Ù¾Ù†Ø¬Ø±Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø± Ú©Ø±Ø¯Ù† ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</small>

    <label for="wallMaterial">Ø¬Ù†Ø³ Ø¯ÛŒÙˆØ§Ø±</label>
    <select id="wallMaterial" name="wallMaterial" required aria-describedby="wallMaterialHelp">
      <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
      <option value="plaster">Ú¯Ú†ÛŒ</option>
      <option value="cement">Ø³ÛŒÙ…Ø§Ù†ÛŒ</option>
      <option value="painted">Ø±Ù†Ú¯â€ŒØ´Ø¯Ù‡ Ù‚Ø¨Ù„ÛŒ</option>
      <option value="papered">Ú©Ø§ØºØ°Ø¯ÛŒÙˆØ§Ø±ÛŒ</option>
    </select>
    <small id="wallMaterialHelp" class="helper-text">Ø¬Ù†Ø³ Ø¯ÛŒÙˆØ§Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</small>

    <label for="finishType">Ù†ÙˆØ¹ Ù¾ÙˆØ´Ø´ Ù†Ù‡Ø§ÛŒÛŒ</label>
    <select id="finishType" name="finishType" required aria-describedby="finishTypeHelp">
      <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯...</option>
      <option value="paintPlastic">Ø±Ù†Ú¯ Ù¾Ù„Ø§Ø³ØªÛŒÚ©ÛŒ</option>
      <option value="paintAcrylic">Ø±Ù†Ú¯ Ø§Ú©Ø±ÛŒÙ„ÛŒÚ©</option>
      <option value="paintOil">Ø±Ù†Ú¯ Ø±ÙˆØºÙ†ÛŒ</option>
      <option value="wallpaper">Ú©Ø§ØºØ°Ø¯ÛŒÙˆØ§Ø±ÛŒ</option>
    </select>
    <small id="finishTypeHelp" class="helper-text">Ù†ÙˆØ¹ Ø±Ù†Ú¯ ÛŒØ§ Ú©Ø§ØºØ°Ø¯ÛŒÙˆØ§Ø±ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</small>

    <button type="submit" aria-label="Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ØªØ±Ø§Ú˜ Ùˆ Ù‚ÛŒÙ…Øª">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
  </form>

  <section class="result-box" id="result" aria-live="polite" aria-atomic="true" tabindex="0"></section>
</div>

<script>
  // ØªÙ… ØªØ§Ø±ÛŒÚ© Ø±ÙˆØ´Ù†
  const toggleBtn = document.getElementById('toggleTheme');
  toggleBtn.onclick = () => {
    document.body.classList.toggle('dark');
    if(document.body.classList.contains('dark')) {
      toggleBtn.textContent = 'â˜€ï¸';
      toggleBtn.setAttribute('aria-label', 'ØªØºÛŒÛŒØ± Ø¨Ù‡ ØªÙ… Ø±ÙˆØ´Ù†');
    } else {
      toggleBtn.textContent = 'ğŸŒ™';
      toggleBtn.setAttribute('aria-label', 'ØªØºÛŒÛŒØ± Ø¨Ù‡ ØªÙ… ØªØ§Ø±ÛŒÚ©');
    }
  };

  // ÙØ±Ù… Ùˆ Ù…Ø­Ø§Ø³Ø¨Ø§Øª
  const form = document.getElementById('calcForm');
  const resultBox = document.getElementById('result');

  // Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ (ØªÙˆÙ…Ø§Ù† Ø¨Ø± Ù…ØªØ± Ù…Ø±Ø¨Ø¹)
  const pricePerSqm = {
    plaster: 25000,
    cement: 20000,
    painted: 22000,
    papered: 30000
  };

  const finishPriceMultiplier = {
    paintPlastic: 1,
    paintAcrylic: 1.3,
    paintOil: 1.6,
    wallpaper: 1.7
  };

  // Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ù‡Ø§ Ø¨Ø±Ø§Ø³Ø§Ø³ ÙØ¶Ø§
  const suggestions = {
    living: 'Ø¨Ø±Ø§ÛŒ Ù¾Ø°ÛŒØ±Ø§ÛŒÛŒ: Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ø±ÙˆØ´Ù†
